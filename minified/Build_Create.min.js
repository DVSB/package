"use strict";var CreateBuildDirectory=function(){require("../library/_Boilerplate").call(this);var a=this;this.on("error",function(){a.log("ERROR -- unexpected error, please report this",!0),process.kill()}),this.removeFolder()};require("util").inherits(CreateBuildDirectory,require("../library/_Boilerplate")),CreateBuildDirectory.prototype.removeFolder=function(){var a=this,b="./"+global.downpress.config["dir-build"];this.fs.remove(b,function(b){if(b)throw b;a.copyBuildFolder()})},CreateBuildDirectory.prototype.copyBuildFolder=function(){var a=this;this.walkFiles(".",function(b){a.removeTemplatesFolder(b)})},CreateBuildDirectory.prototype.removeTemplatesFolder=function(a){function b(a){return a.indexOf(c)<=-1}var c="./"+global.downpress.config["dir-templates"];a=a.filter(b),this.copyFiles(a)},CreateBuildDirectory.prototype.copyFiles=function(a){var b=this,c="./"+global.downpress.config["dir-build"];a.forEach(function(a){b.fs.copySync(a,c+"/"+a)}),this.emit("ready")},module.exports=function(){return new CreateBuildDirectory};