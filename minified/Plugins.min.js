"use strict";var Plugins=function(){require("../library/_Boilerplate").call(this)};require("util").inherits(Plugins,require("../library/_Boilerplate")),Plugins.prototype.regenerate=function(){this.createTempFolder()},Plugins.prototype.createTempFolder=function(){var a,b=this;this.generatingTime=+new Date,global.downpress.isGenerating=!0,a=require("../mdls/Build_Create")(),a.on("ready",function(){b.buildCopied()})},Plugins.prototype.buildCopied=function(){var a,b=this,c=0;this.on("built",function(){c++,3===c&&b.exportToFileSystem()}),a=require("../mdls/Statics")(),a.on("ready",function(){b.emit("built")}),a=require("../mdls/Templates")(),a.on("ready",function(){b.emit("built")}),a=require("../mdls/Markdowns")(),a.on("ready",function(){b.emit("built")})},Plugins.prototype.exportToFileSystem=function(){var a,b=this,c=0;this.on("exporting",function(){c++,3===c&&b.finishedGenerating()}),a=require("../mdls/Generate")(),a.on("ready",function(){b.emit("exporting")}),a=require("../mdls/Sitemap")(),a.on("ready",function(){b.emit("exporting")}),a=require("../mdls/OfflineManifest")(),a.on("ready",function(){b.emit("exporting")})},Plugins.prototype.finishedGenerating=function(){if(global.downpress.isInitial){var a=+new Date-this.generatingTime;this.log("regenerated in "+a+"ms")}global.downpress.isGenerating=!1,global.downpress.isInitial=!1},module.exports=function(){var a=new Plugins;a.regenerate()};